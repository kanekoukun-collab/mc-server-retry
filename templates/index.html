<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>サーバー状況</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎮 サーバー状況</h1>
            <p class="server-address" id="server-address-btn" title="クリックして設定を変更">{{ server_address }}</p>
        </header>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>サーバー情報を取得中...</p>
        </div>

        <div id="content" style="display: none;">
            <!-- ステータスカード -->
            <div class="status-card">
                <div class="status-indicator">
                    <span id="status-badge" class="badge">🔴 Offline</span>
                </div>

                <!-- サーバーアイコン（大きく中央に） -->
                <div class="server-icon-container">
                    <img id="server-icon"
                         src=""
                         alt="Server Icon"
                         style="display:none;">
                </div>

                <!-- ステータステキスト（中央） -->
                <div class="status-text" id="status-text">
                    サーバーに接続しています...
                </div>
            </div>

            <!-- サーバー情報 -->
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-label">📡 Ping</div>
                    <div class="info-value" id="ping">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">📦 バージョン</div>
                    <div class="info-value" id="version">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">👥 プレイヤー</div>
                    <div class="info-value" id="players">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">⏰ 最終更新</div>
                    <div class="info-value" id="last-update">-</div>
                </div>
            </div>

            <!-- プレイヤーリスト -->
            <div id="players-container" style="display: none;">
                <div class="section-title">👥 オンラインプレイヤー</div>
                <div class="players-grid" id="players-list"></div>
            </div>
        </div>

        <footer>
            <p>自動更新: 10秒ごと | データ提供: mcsrvstat.us</p>
        </footer>
    </div>

    <!-- 設定モーダル -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>⚙️ サーバー設定</h2>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <label for="server-address-input">サーバーアドレス:</label>
                <input type="text" id="server-address-input" placeholder="例: gatisaba.xgames.jp">
                <p class="hint">Minecraftサーバーのアドレスを入力してください</p>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancel-btn">キャンセル</button>
                <button class="btn-save" id="save-btn">保存</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
